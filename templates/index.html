{% extends 'base.html' %}

{% block title %}Dashboard - Riffly Music Platform{% endblock %}

{% block content %}
<h1>ğŸµ Riffly Music Platform</h1>

<div class="alert alert-info">
    <strong>Â¡Bienvenido!</strong> Panel de administraciÃ³n de Riffly - Plataforma de mÃºsica colaborativa
</div>

<h2>ğŸ“Š EstadÃ­sticas Generales</h2>
<div class="stats-grid">
    <div class="stat-card">
        <h3>{{ stats.total_users }}</h3>
        <p>ğŸ‘¥ Usuarios Registrados</p>
    </div>
    <div class="stat-card">
        <h3>{{ stats.total_songs }}</h3>
        <p>ğŸµ Canciones</p>
    </div>
    <div class="stat-card">
        <h3>{{ stats.total_genres }}</h3>
        <p>ğŸ¸ GÃ©neros Musicales</p>
    </div>
    <div class="stat-card">
        <h3>{{ stats.total_playlists }}</h3>
        <p>ğŸ“‹ Playlists</p>
    </div>
</div>

<h2>ğŸ†• Canciones MÃ¡s Recientes</h2>
{% if recent_songs %}
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>TÃ­tulo</th>
                <th>Artista</th>
                <th>DuraciÃ³n</th>
                <th>Fecha</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for song in recent_songs %}
            <tr>
                <td>{{ song.SONG_ID }}</td>
                <td><strong>{{ song.TITLE }}</strong></td>
                <td>{{ song.AUTHOR_DISPLAY|default:song.AUTHOR_NAME }}</td>
                <td>{{ song.DURATION_SEC }} seg</td>
                <td>{{ song.CREATED_AT|date:"d/m/Y H:i" }}</td>
                <td>
                    <a href="{% url 'detalle_cancion' song.SONG_ID %}" class="btn btn-info" style="padding: 6px 12px; font-size: 14px;">Ver</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <p>No hay canciones registradas aÃºn.</p>
{% endif %}

<h2>ğŸš€ Acciones RÃ¡pidas</h2>
<div style="margin-top: 20px;">
    <a href="{% url 'crear_usuario' %}" class="btn">â• Nuevo Usuario</a>
    <a href="{% url 'crear_cancion' %}" class="btn btn-success">ğŸµ Nueva CanciÃ³n</a>
    <a href="{% url 'crear_genero' %}" class="btn btn-info">ğŸ¸ Nuevo GÃ©nero</a>
    <a href="{% url 'crear_playlist' %}" class="btn btn-warning">ğŸ“‹ Nueva Playlist</a>
</div>

<h2>ğŸ“‹ MÃ³dulos del Sistema</h2>
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
    <div class="card">
        <h3>ğŸ‘¥ GestiÃ³n de Usuarios</h3>
        <p>Administra usuarios, perfiles de artistas, productores y aficionados.</p>
        <a href="{% url 'lista_usuarios' %}" class="btn">Ver Usuarios</a>
    </div>

    <div class="card">
        <h3>ğŸµ CatÃ¡logo Musical</h3>
        <p>Gestiona canciones, compositores y colaboradores.</p>
        <a href="{% url 'lista_canciones' %}" class="btn">Ver Canciones</a>
    </div>

    <div class="card">
        <h3>ğŸ“‹ Playlists</h3>
        <p>Administra playlists pÃºblicas y privadas.</p>
        <a href="{% url 'lista_playlists' %}" class="btn">Ver Playlists</a>
    </div>

    <div class="card">
        <h3>ğŸ“Š EstadÃ­sticas</h3>
        <p>Visualiza rankings, reproducciones y mÃ©tricas.</p>
        <a href="{% url 'estadisticas' %}" class="btn">Ver EstadÃ­sticas</a>
    </div>
</div>
{% endblock %}
