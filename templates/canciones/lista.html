{% extends 'base.html' %}

{% block title %}Canciones - Riffly{% endblock %}

{% block content %}
<h1>üéµ Cat√°logo de Canciones</h1>

<a href="{% url 'crear_cancion' %}" class="btn">‚ûï Agregar Nueva Canci√≥n</a>

{% if canciones %}
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>T√≠tulo</th>
                <th>Artista</th>
                <th>Duraci√≥n</th>
                <th>Descripci√≥n</th>
                <th>Fecha</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for cancion in canciones %}
            <tr>
                <td>{{ cancion.SONG_ID }}</td>
                <td><strong>{{ cancion.TITLE }}</strong></td>
                <td>{{ cancion.AUTHOR_DISPLAY|default:cancion.AUTHOR_NAME }}</td>
                <td>{{ cancion.DURATION_SEC }} seg</td>
                <td>{{ cancion.DESCRIPTION|default:"-"|truncatewords:8 }}</td>
                <td>{{ cancion.CREATED_AT|date:"d/m/Y" }}</td>
                <td>
                    <a href="{% url 'detalle_cancion' cancion.SONG_ID %}" class="btn btn-info" style="padding: 8px 15px; font-size: 14px;">Ver Detalles</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <p><strong>Total de canciones:</strong> {{ canciones|length }}</p>
{% else %}
    <div class="alert alert-info">
        <p>No hay canciones registradas. <a href="{% url 'crear_cancion' %}">Crea la primera aqu√≠</a>.</p>
    </div>
{% endif %}
{% endblock %}

